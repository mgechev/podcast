(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{IHnf:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("fXoL");const s=["audio"],r=["progress"],o=50;let c=(()=>{class t{constructor(){this.width=120,this.playing=!1}toggle(){this.playing=!this.playing,this.playing?this.audio.nativeElement.play():this.audio.nativeElement.pause()}ngAfterViewInit(){const t=this.progress.nativeElement,e=t.getTotalLength(),n=this.audio.nativeElement;t.setAttribute("stroke-dasharray",e),t.setAttribute("stroke-dashoffset",e),n.addEventListener("pause",()=>this.playing=!1),n.addEventListener("play",()=>this.playing=!0),n.addEventListener("timeupdate",()=>{t.setAttribute("stroke-dashoffset",e-n.currentTime/n.duration*e)})}seek(t){const e=this._calculateAngle(t)/360,n=this.audio.nativeElement;n.currentTime=e*n.duration}_calculateAngle(t){const e=2*o/(this.width/t.offsetX),n=2*o/(this.width/t.offsetY),i=Math.abs(Math.atan((o-n)/(o-e)))/Math.PI*180;return e<o&&n>o?i:e>o&&n>o?180-i:e>o&&n<o?180+i:180-i+180}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Cb({type:t,selectors:[["app-player"]],viewQuery:function(t,e){var n;1&t&&(i.kc(s,!0),i.kc(r,!0)),2&t&&(i.bc(n=i.Sb())&&(e.audio=n.first),i.bc(n=i.Sb())&&(e.progress=n.first))},inputs:{width:"width",source:"source"},decls:10,vars:7,consts:[[1,"play",3,"click"],[1,"arrow"],[1,"pause"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 100 100"],["cx","50","cy","50","r","32","stroke","#eee","fill","transparent","stroke-width","2"],["pointer-events","stroke","d","\n    M 50 50\n    m -50, 0\n    a 50,50 0 1,0 100,0\n    a 50,50 0 1,0 -100,0","stroke-miterlimit","10","fill","transparent","stroke","#fff","stroke-width","20",2,"opacity","0.4","cursor","pointer",3,"click"],["d","\n    M 50 50\n    m -50, 0\n    a 50,50 0 1,0 100,0\n    a 50,50 0 1,0 -100,0","stroke-miterlimit","10","stroke","#fff","fill","transparent","stroke-width","20"],["progress",""],[3,"src"],["audio",""]],template:function(t,e){1&t&&(i.Lb(0,"button",0),i.Rb("click",(function(t){return e.toggle()})),i.Jb(1,"div",1),i.Jb(2,"span",2),i.Kb(),i.Ub(),i.Lb(3,"svg",3),i.Jb(4,"circle",4),i.Lb(5,"path",5),i.Rb("click",(function(t){return e.seek(t)})),i.Kb(),i.Jb(6,"path",6,7),i.Kb(),i.Tb(),i.Jb(8,"audio",8,9)),2&t&&(i.fc("width",e.width-40+"px")("height",e.width-40+"px")("border-radius",e.width+"px"),i.wb(1),i.Ab("hidden-arrow",e.playing),i.wb(1),i.Ab("hidden",!e.playing),i.wb(1),i.fc("width",e.width),i.wb(5),i.ac("src",e.source,i.cc))},styles:["svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;stroke:#fff;border-radius:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);pointer-events:none;z-index:0}svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{cursor:pointer}button[_ngcontent-%COMP%]{position:relative}.play[_ngcontent-%COMP%]{z-index:3;background:0 0!important;cursor:pointer;outline:0;border:none}.arrow[_ngcontent-%COMP%]{-webkit-transition:.3s;transition:all .3s;width:0;height:0;margin:auto auto auto 22px;border-top:15px solid transparent;border-bottom:15px solid transparent;border-left:25px solid #eee}.pause[_ngcontent-%COMP%], .play[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.pause[_ngcontent-%COMP%]{-webkit-transition:opacity .3s;transition:opacity .3s}.pause[_ngcontent-%COMP%], .pause[_ngcontent-%COMP%]::after, .pause[_ngcontent-%COMP%]::before, .play[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.pause[_ngcontent-%COMP%]::after, .pause[_ngcontent-%COMP%]::before{width:12px;height:35px;content:'';background-color:#eee;display:inline-block;opacity:1}.pause[_ngcontent-%COMP%]::before{left:calc(50% - 10px)}.pause[_ngcontent-%COMP%]::after{left:calc(50% + 10px)}.hidden-arrow[_ngcontent-%COMP%]{border-left-width:0}.hidden[_ngcontent-%COMP%]{opacity:0}"]}),t})()},PCNd:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n("UN6A");var i=n("ofXK"),s=(n("IHnf"),n("tyNb")),r=n("fXoL");let o=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[i.b,s.d]]}),t})()},UN6A:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("fXoL"),s=n("tyNb"),r=n("ofXK"),o=n("IHnf");function c(t,e){if(1&t&&i.Jb(0,"app-player",2),2&t){const t=i.Vb(2);i.ac("source",t.episode.audio)}}function a(t,e){if(1&t&&(i.Lb(0,"section"),i.Lb(1,"h1"),i.Lb(2,"span"),i.hc(3),i.Kb(),i.Jb(4,"br"),i.hc(5),i.Kb(),i.gc(6,c,1,1,"app-player",1),i.Kb()),2&t){const t=i.Vb();i.wb(3),i.jc("Episode #",t.episode.number,""),i.wb(2),i.jc("",t.episode.title," "),i.wb(1),i.ac("ngIf",t.showPlayer)}}function u(t,e){if(1&t&&(i.Lb(0,"a",4),i.hc(1,"Find more"),i.Kb()),2&t){const t=i.Vb(2);i.ac("routerLink",t.episode.route)}}function l(t,e){if(1&t&&(i.Lb(0,"summary"),i.hc(1),i.gc(2,u,2,1,"a",3),i.Kb()),2&t){const t=i.Vb();i.wb(1),i.jc(" ",t.episode.description," "),i.wb(1),i.ac("ngIf",t.preview)}}let h=(()=>{class t{constructor(t){this._router=t,this.showPlayer=!0}get preview(){return this._router.routerState.snapshot.url!==this.episode.route}}return t.\u0275fac=function(e){return new(e||t)(i.Ib(s.b))},t.\u0275cmp=i.Cb({type:t,selectors:[["app-episode-summary"]],inputs:{episode:"episode",showPlayer:"showPlayer"},decls:2,vars:2,consts:[[4,"ngIf"],["width","120",3,"source",4,"ngIf"],["width","120",3,"source"],[3,"routerLink",4,"ngIf"],[3,"routerLink"]],template:function(t,e){1&t&&(i.gc(0,a,7,3,"section",0),i.gc(1,l,3,2,"summary",0)),2&t&&(i.ac("ngIf",e.episode),i.wb(1),i.ac("ngIf",e.episode))},directives:[r.j,o.a,s.c],styles:["[_nghost-%COMP%]{display:-webkit-box;display:flex;height:40vh;background-color:#333;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}section[_ngcontent-%COMP%]{text-align:left;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;position:relative}section[_ngcontent-%COMP%], summary[_ngcontent-%COMP%]{width:50%;min-width:300px;max-width:1200px;margin-left:auto;margin-right:auto;height:150px}summary[_ngcontent-%COMP%]{display:block;color:#999;font-size:1.1em;margin-top:25px;height:120px}summary[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}h1[_ngcontent-%COMP%]{display:inline-block;border-left:2px solid #1ba8c4;padding-left:7px;color:#fff;font-weight:400;font-size:3.5em;text-align:left;margin-bottom:10px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.5em;font-weight:200}app-player[_ngcontent-%COMP%]{display:block;width:120px;height:120px;margin-top:35px;position:relative}"]}),t})()},sbAP:function(t,e,n){"use strict";var i=n("tk/3"),s=n("fXoL");function r(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){t.done?s(t.value):new n((function(e){e(t.value)})).then(o,c)}a((i=i.apply(t,e||[])).next())}))}var o=n("tyNb"),c=n("2Vo4"),a=n("XNiG"),u=n("quSY");class l extends u.a{constructor(t,e){super()}schedule(t,e=0){return this}}class h extends l{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(s){n=!0,i=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class d extends h{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let p=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class f extends p{constructor(t,e=p.now){super(t,()=>f.delegate&&f.delegate!==this?f.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return f.delegate&&f.delegate!==this?f.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class b extends f{}const w=new b(d);var g=n("7o/Q"),m=n("EY2u"),y=n("LRne"),v=n("HDdC");let x=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(y.a)(this.value);case"E":return t=this.error,new v.a(e=>e.error(t));case"C":return Object(m.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class k extends g.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(k.dispatch,this.delay,new _(t,this.destination)))}_next(t){this.scheduleMessage(x.createNext(t))}_error(t){this.scheduleMessage(x.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(x.createComplete()),this.unsubscribe()}}class _{constructor(t,e){this.notification=t,this.destination=e}}var I=n("9ppp"),O=n("Ylt2");class C extends a.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new T(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=n.length;let r;if(this.closed)throw new I.a;if(this.isStopped||this.hasError?r=u.a.EMPTY:(this.observers.push(t),r=new O.a(this,t)),i&&t.add(t=new k(t,i)),e)for(let o=0;o<s&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<s&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),r}_getNow(){return(this.scheduler||w).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,s=i.length;let r=0;for(;r<s&&!(t-i[r].time<n);)r++;return s>e&&(r=Math.max(r,s-e)),r>0&&i.splice(0,r),i}}class T{constructor(t,e){this.time=t,this.value=e}}var E=n("lJxs"),P=n("pLZG"),N=n("vkgz"),M=n("IzEk"),S=n("eIep"),j=n("JIr8");function A(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let s,r,o=0,c=!1,a=!1;return function(u){o++,s&&!c||(c=!1,s=new C(t,e,i),r=u.subscribe({next(t){s.next(t)},error(t){c=!0,s.error(t)},complete(){a=!0,r=void 0,s.complete()}}));const l=s.subscribe(this);this.add(()=>{o--,l.unsubscribe(),r&&!a&&n&&0===o&&(r.unsubscribe(),r=void 0,s=void 0)})}}(i))}n.d(e,"a",(function(){return Y})),n.d(e,"b",(function(){return J})),n.d(e,"c",(function(){return R}));const L=["*"];let z=(()=>{class t{constructor(t,e){this.zone=t,this.router=e,this.imState=new c.a({idle:!1,timeOut:5e3}),this.idle$=this.imState.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(E.a)(function(t,e){return n=>{let i=n;for(let s=0;s<e;s++){const e=i[t[s]];if(void 0===e)return;i=e}return i}}(t,e))(n)}("idle")),this.initApp=new Event("AngularInitialized",{bubbles:!0,cancelable:!1}),this.appReady=new Event("AngularReady",{bubbles:!0,cancelable:!1}),this.appTimeout=new Event("AngularTimeout",{bubbles:!0,cancelable:!1}),window&&(window.dispatchEvent(this.initApp),this.router.events.pipe(Object(P.a)(t=>t instanceof o.a&&void 0!==t.urlAfterRedirects),Object(N.a)(()=>this.zoneIdleCheck())).subscribe())}init(){return r(this,void 0,void 0,(function*(){return this.idle$.pipe(Object(M.a)(1)).toPromise()}))}zoneIdleCheck(){return r(this,void 0,void 0,(function*(){if(void 0===Zone)return this.simpleTimeout();const t=Zone.current.get("TaskTrackingZone");if(void 0===t)return this.simpleTimeout();this.imState.value.idle&&(yield this.setState("idle",!1)),this.zone.runOutsideAngular(()=>{let e,n=0;const i=Date.now(),s=()=>{clearTimeout(e),Date.now()-i>3e4?window.dispatchEvent(this.appTimeout):t.macroTasks.length>0&&void 0!==t.macroTasks.find(t=>t.source.includes("XMLHttpRequest"))||n<1?e=setTimeout(()=>{n+=1,s()},50):(window.dispatchEvent(this.appReady),this.setState("idle",!0))};s()})}))}simpleTimeout(){return r(this,void 0,void 0,(function*(){console.warn("Scully is using timeouts, add the needed polyfills instead!"),yield new Promise(t=>setTimeout(t,this.imState.value.timeOut)),window.dispatchEvent(this.appReady)}))}setPupeteerTimoutValue(t){this.imState.next(Object.assign(Object.assign({},this.imState.value),{timeOut:t}))}setState(t,e){this.imState.next(Object.assign(Object.assign({},this.imState.value),{[t]:e}))}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(s.y),s.Nb(o.b))},t.\u0275prov=Object(s.Eb)({factory:function(){return new t(Object(s.Nb)(s.y),Object(s.Nb)(o.b))},token:t,providedIn:"root"}),t})(),R=(()=>{class t{constructor(t){this.http=t,this.refresh=new C(1),this.available$=this.refresh.pipe(Object(S.a)(()=>this.http.get("/assets/scully-routes.json")),Object(j.a)(()=>(console.warn("Scully routes file not found, are you running the in static version of your site?"),Object(y.a)([]))),A({refCount:!1,bufferSize:1})),this.topLevel$=this.available$.pipe(Object(E.a)(t=>t.filter(t=>!t.route.slice(1).includes("/"))),A({refCount:!1,bufferSize:1})),this.reload()}getCurrent(){if(!location)return Object(y.a)([]);const t=location.pathname;return this.available$.pipe(Object(E.a)(e=>e.find(e=>t.includes(e.route)||e.slugs&&Array.isArray(e.slugs)&&void 0!==e.slugs.find(e=>t.includes(e)))))}reload(){this.refresh.next()}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(i.a))},t.\u0275prov=Object(s.Eb)({factory:function(){return new t(Object(s.Nb)(i.a))},token:t,providedIn:"root"}),t})();const V="\x3c!--scullyContent-begin--\x3e",F="\x3c!--scullyContent-end--\x3e";let J=(()=>{class t{constructor(t,e,n,i,s){this.elmRef=t,this.srs=e,this.http=n,this.router=i,this.idle=s,this.type="MD",this.elm=this.elmRef.nativeElement,this.routes=this.srs.available$.pipe(Object(M.a)(1)).toPromise()}ngOnInit(){this.idle.init(),this.elm&&this.handlePage()}handlePage(){return r(this,void 0,void 0,(function*(){const t=document.createElement("template");if(window.scullyContent)t.innerHTML=window.scullyContent;else{const e=location.href;yield this.http.get(e,{responseType:"text"}).toPromise().then(e=>{try{t.innerHTML=e.split(V)[1].split(F)[0]}catch(n){t.innerHTML="<h2>Sorry, could not parse static page content</h2>\n            <p>This might happen if you are not using the static generated pages.</p>",console.error("problem during parsing static scully content",n)}}).catch(e=>{t.innerHTML="<h2>Sorry, could not load static page content</h2>",console.error("problem during loading static scully content",e)})}const e=this.elm.parentElement||document.body,n=document.createComment("scullyContent-begin"),i=document.createComment("scullyContent-end");e.insertBefore(n,this.elm),e.insertBefore(t.content,this.elm),e.insertBefore(i,this.elm),document.querySelectorAll("[href]").forEach(this.upgradeToRoutelink.bind(this))}))}upgradeToRoutelink(t){return r(this,void 0,void 0,(function*(){const e=yield this.routes,n=t.getAttribute("href").toLowerCase(),i=e.find(t=>t.route.toLowerCase()===n);n&&i&&(t.onclick=t=>{const e=i.route.split("/"),n=location.pathname.split("/");n.pop(),t.preventDefault(),this.router.navigate(e).catch(t=>console.error("routing error",t)),n.every((t,n)=>e[n]===t)&&setTimeout(()=>{const t=this.elm.parentElement;let e,n=function(t,e){const n=[],i=document.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode:t=>t.nodeValue&&!t.nodeValue.includes("scullyContent-begin")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT});let s;for(;s=i.nextNode();)n.push(s);return n}(t)[0];do{e=n.nextSibling,t.removeChild(n),n=e}while(e&&e!==this.elm);window.scullyContent=void 0,this.handlePage()},20)})}))}ngOnDestroy(){this.mutationSubscription&&this.mutationSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Ib(s.k),s.Ib(R),s.Ib(i.a),s.Ib(o.b),s.Ib(z))},t.\u0275cmp=s.Cb({type:t,selectors:[["scully-content"]],inputs:{type:"type"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(s.Zb(),s.Yb(0))},styles:["\n      :host {\n        display: none;\n      }\n      scully-content {\n        display: none;\n      }\n    "],encapsulation:2,changeDetection:0}),t})(),Y=(()=>{class t{static forRoot(){return{NgModule:t,deps:[i.a]}}}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(e){return new(e||t)}}),t})()}}]);