function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"6SFz":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n("ofXK"),i=n("fXoL"),o=["audio"],s=["progress"],a=function(){var e=function(){function e(){_classCallCheck(this,e),this.radius=120,this.stroke=20,this.innerStroke=2,this.strokeColor="#fff",this.progressStrokeColor="#858585",this.innerStrokeColor="#eee",this.playing=!1}return _createClass(e,[{key:"toggle",value:function(){this.playing=!this.playing,this.playing?this.audio.nativeElement.play():this.audio.nativeElement.pause()}},{key:"ngAfterViewInit",value:function(){var e=this,t=this.progress.nativeElement,n=t.getTotalLength(),r=this.audio.nativeElement;t.setAttribute("stroke-dasharray",n),t.setAttribute("stroke-dashoffset",n),r.addEventListener("pause",(function(){return e.playing=!1})),r.addEventListener("play",(function(){return e.playing=!0})),r.addEventListener("timeupdate",(function(){t.setAttribute("stroke-dashoffset",n-r.currentTime/r.duration*n)}))}},{key:"seek",value:function(e){var t=this._calculateAngle(e)/360,n=this.audio.nativeElement;n.currentTime=t*n.duration}},{key:"_calculateAngle",value:function(e){var t=100/(this.radius/e.offsetX),n=100/(this.radius/e.offsetY),r=Math.abs(Math.atan((50-n)/(50-t)))/Math.PI*180;return t<=50&&n>=50?r:t>50&&n>=50?180-r:t>50&&n<=50?180+r:180-r+180}},{key:"arrowStyle",get:function(){return{"border-top-width":this.radius/8+"px","border-bottom-width":this.radius/8+"px","border-left-width":this.radius/5+"px"}}},{key:"drawn",get:function(){return""}},{key:"centerX",get:function(){return 50}},{key:"centerY",get:function(){return 50}},{key:"circleRadius",get:function(){return 32}},{key:"pauseLeftBarSize",get:function(){return{width:this.radius/10+"px",height:this.radius/3.5+"px",left:"calc(50% - ".concat(this.radius/12,"px)")}}},{key:"pauseRightBarSize",get:function(){return{width:this.radius/10+"px",height:this.radius/3.5+"px",left:"calc(50% + ".concat(this.radius/12,"px)")}}},{key:"playButtonRadius",get:function(){return this.radius-this.radius/3+"px"}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Ab({type:e,selectors:[["ngx-circular-player"]],viewQuery:function(e,t){var n;1&e&&(i.jc(o,!0),i.jc(s,!0)),2&e&&(i.ac(n=i.Rb())&&(t.audio=n.first),i.ac(n=i.Rb())&&(t.progress=n.first))},inputs:{radius:"radius",stroke:"stroke",innerStroke:"innerStroke",strokeColor:"strokeColor",progressStrokeColor:"progressStrokeColor",innerStrokeColor:"innerStrokeColor",source:"source"},decls:13,vars:24,consts:[[1,"play",3,"click"],[1,"arrow",3,"ngStyle"],[1,"pause"],[1,"before",3,"ngStyle"],[1,"after",3,"ngStyle"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 100 100"],["fill","transparent"],["pointer-events","stroke","d","M 50 50\n       m -50, 0\n       a 50,50 0 1,0 100,0\n       a 50,50 0 1,0 -100,0","stroke-miterlimit","10","fill","transparent",2,"cursor","pointer",3,"click"],["d","M 50 50\n       m -50, 0\n       a 50,50 0 1,0 100,0\n       a 50,50 0 1,0 -100,0","fill","transparent"],["progress",""],["preload","auto"],["audio",""],["type","audio/mp3",3,"src"]],template:function(e,t){1&e&&(i.Jb(0,"button",0),i.Qb("click",(function(){return t.toggle()})),i.Hb(1,"div",1),i.Jb(2,"span",2),i.Hb(3,"span",3),i.Hb(4,"span",4),i.Ib(),i.Ib(),i.Tb(),i.Jb(5,"svg",5),i.Hb(6,"circle",6),i.Jb(7,"path",7),i.Qb("click",(function(e){return t.seek(e)})),i.Ib(),i.Hb(8,"path",8,9),i.Ib(),i.Sb(),i.Jb(10,"audio",10,11),i.Hb(12,"source",12),i.Ib()),2&e&&(i.ec("width",t.playButtonRadius)("height",t.playButtonRadius),i.wb(1),i.yb("hidden-arrow",t.playing),i.Zb("ngStyle",t.arrowStyle),i.wb(1),i.yb("hidden",!t.playing),i.wb(1),i.Zb("ngStyle",t.pauseLeftBarSize),i.wb(1),i.Zb("ngStyle",t.pauseRightBarSize),i.wb(1),i.ec("width",t.radius),i.wb(1),i.xb("cx",t.centerX)("cy",t.centerY)("r",t.circleRadius)("stroke",t.innerStrokeColor)("stroke-width",t.innerStroke),i.wb(1),i.xb("stroke",t.progressStrokeColor)("stroke-width",t.stroke),i.wb(1),i.xb("stroke-miterlimit",10)("stroke",t.strokeColor)("stroke-width",t.stroke),i.wb(4),i.Zb("src",t.source,i.cc))},directives:[r.k],styles:['svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;stroke:#fff;border-radius:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);pointer-events:none;z-index:0}svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{cursor:pointer}button[_ngcontent-%COMP%]{position:relative}.play[_ngcontent-%COMP%]{z-index:3;background:0 0!important;cursor:pointer;outline:0;border:none}.arrow[_ngcontent-%COMP%]{-webkit-transition:.3s;transition:.3s;width:0;height:0;border-top-color:transparent;border-top-style:solid;border-bottom-color:transparent;border-bottom-style:solid;border-left-style:solid;border-left-color:#eee;margin:auto}.pause[_ngcontent-%COMP%], .play[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.pause[_ngcontent-%COMP%]{-webkit-transition:opacity .3s;transition:opacity .3s}.pause[_ngcontent-%COMP%], .pause[_ngcontent-%COMP%]   .after[_ngcontent-%COMP%], .pause[_ngcontent-%COMP%]   .before[_ngcontent-%COMP%], .play[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.pause[_ngcontent-%COMP%]   .after[_ngcontent-%COMP%], .pause[_ngcontent-%COMP%]   .before[_ngcontent-%COMP%]{content:"";background-color:#eee;display:inline-block;opacity:1}.hidden-arrow[_ngcontent-%COMP%]{border-left-width:0!important}.hidden[_ngcontent-%COMP%]{opacity:0}'],changeDetection:0}),e}(),u=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Eb({type:e}),e.\u0275inj=i.Db({factory:function(t){return new(t||e)},imports:[[r.b]]}),e}()},PCNd:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ofXK"),i=n("tyNb"),o=n("6SFz"),s=n("syNF"),a=n("fXoL"),u=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=a.Eb({type:e}),e.\u0275inj=a.Db({factory:function(t){return new(t||e)},providers:[{provide:s.a,useClass:s.a}],imports:[[r.b,i.e,o.b]]}),e}()},UN6A:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("fXoL"),i=n("tyNb"),o=n("ofXK"),s=n("6SFz");function a(e,t){if(1&e&&r.Hb(0,"ngx-circular-player",2),2&e){var n=r.Ub(2);r.Zb("source",n.episode.audio)}}function u(e,t){if(1&e&&(r.Jb(0,"section"),r.Jb(1,"h1"),r.Jb(2,"span"),r.gc(3),r.Ib(),r.gc(4),r.Ib(),r.fc(5,a,1,1,"ngx-circular-player",1),r.Ib()),2&e){var n=r.Ub();r.wb(3),r.ic("Episode #",n.episode.number,""),r.wb(1),r.ic(" ",n.episode.title," "),r.wb(1),r.Zb("ngIf",n.showPlayer)}}function c(e,t){if(1&e&&(r.Jb(0,"a",4),r.gc(1,"Find more"),r.Ib()),2&e){var n=r.Ub(2);r.Zb("routerLink",n.episode.route)}}function l(e,t){if(1&e&&(r.Jb(0,"summary"),r.gc(1),r.fc(2,c,2,1,"a",3),r.Ib()),2&e){var n=r.Ub();r.wb(1),r.ic(" ",n.episode.description," "),r.wb(1),r.Zb("ngIf",n.preview)}}var h=function(){var e=function(){function e(t){_classCallCheck(this,e),this._router=t,this.showPlayer=!0}return _createClass(e,[{key:"preview",get:function(){return this._router.routerState.snapshot.url!==this.episode.route}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Gb(i.c))},e.\u0275cmp=r.Ab({type:e,selectors:[["app-episode-summary"]],inputs:{episode:"episode",showPlayer:"showPlayer"},decls:2,vars:2,consts:[[4,"ngIf"],["width","120",3,"source",4,"ngIf"],["width","120",3,"source"],[3,"routerLink",4,"ngIf"],[3,"routerLink"]],template:function(e,t){1&e&&(r.fc(0,u,6,3,"section",0),r.fc(1,l,3,2,"summary",0)),2&e&&(r.Zb("ngIf",t.episode),r.wb(1),r.Zb("ngIf",t.episode))},directives:[o.j,s.a,i.d],styles:["[_nghost-%COMP%]{display:flex;height:40vh;background-color:#333;flex-direction:column;justify-content:center}section[_ngcontent-%COMP%]{text-align:left;display:flex;flex-direction:row;justify-content:space-between;position:relative}section[_ngcontent-%COMP%], summary[_ngcontent-%COMP%]{width:50%;min-width:300px;max-width:1200px;margin-left:auto;margin-right:auto;height:150px}summary[_ngcontent-%COMP%]{display:block;color:#999;font-size:1.1em;margin-top:25px;height:120px}h1[_ngcontent-%COMP%], summary[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}h1[_ngcontent-%COMP%]{display:inline-block;border-left:2px solid #1ba8c4;padding-left:7px;font-weight:400;font-size:3.5em;text-align:left;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.5em;font-weight:200}app-player[_ngcontent-%COMP%]{display:block;width:120px;height:120px;margin-top:35px}app-player[_ngcontent-%COMP%], ngx-circular-player[_ngcontent-%COMP%]{position:relative}"]}),e}()},mrSG:function(e,t,n){"use strict";function r(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}n.d(t,"a",(function(){return r}))},sbAP:function(e,t,n){"use strict";var r=n("mrSG"),i=n("fXoL"),o=n("tyNb"),s=(n("2Vo4"),n("HDdC"));n("KqfI");var a,u=n("LRne"),c=n("XNiG"),l=n("quSY"),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(l.a))),f=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),d=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.now;return _classCallCheck(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(f)))(h),p=n("7o/Q"),b=n("EY2u"),y=((a=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(u.a)(this.value);case"E":return e=this.error,new s.a((function(t){return t.error(e)}));case"C":return Object(b.b)()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0),a),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new v(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(y.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(y.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(y.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(p.a),v=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n},_=n("9ppp"),w=n("Ylt2"),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new k(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new _.a;if(this.isStopped||this.hasError?t=l.a.EMPTY:(this.observers.push(e),t=new w.a(this,e)),i&&e.add(e=new g(e,i)),n)for(var s=0;s<o&&!e.closed;s++)e.next(r[s]);else for(var a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||d).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(c.a),k=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n},C=n("pLZG"),x=n("eIep"),O=n("vkgz"),P=(n("SxV6"),n("lJxs"));function S(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=e.refCount,u=e.scheduler,c=0,l=!1,h=!1;return function(e){c++,t&&!l||(l=!1,t=new m(i,s,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}));var r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!h&&a&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}var I=n("IzEk"),T=n("JIr8");n("ofXK"),n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return R}));var M=["*"];function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";return new Promise((function(n,r){var i=new XMLHttpRequest;i.responseType=t,i.addEventListener("load",(function(e){return n(i.response)})),i.addEventListener("error",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t)})),i.open("get",e,!0),i.send()}))}window;var j,A,N,R=((N=function(){function e(){_classCallCheck(this,e),this.refresh=new m(1),this.allRoutes$=this.refresh.pipe(Object(x.a)((function(){return E("/assets/scully-routes.json")})),Object(T.a)((function(){return console.warn("Scully routes file not found, are you running the Scully generated version of your site?"),Object(u.a)([])})),Object(C.a)((function(e){return Array.isArray(e)})),Object(P.a)(this.cleanDups),S({refCount:!1,bufferSize:1})),this.available$=this.allRoutes$.pipe(Object(P.a)((function(e){return e.filter((function(e){return!e.hasOwnProperty("published")||!1!==e.published}))})),S({refCount:!1,bufferSize:1})),this.unPublished$=this.allRoutes$.pipe(Object(P.a)((function(e){return e.filter((function(e){return!!e.hasOwnProperty("published")&&!1===e.published}))})),S({refCount:!1,bufferSize:1})),this.topLevel$=this.available$.pipe(Object(P.a)((function(e){return e.filter((function(e){return!e.route.slice(1).includes("/")}))})),S({refCount:!1,bufferSize:1})),this.reload()}return _createClass(e,[{key:"getCurrent",value:function(){if(!location)return Object(u.a)();var e=location.pathname.trim();return this.available$.pipe(Object(P.a)((function(t){return t.find((function(t){return e===t.route.trim()||t.slugs&&Array.isArray(t.slugs)&&t.slugs.find((function(t){return e.endsWith(t.trim())}))}))})))}},{key:"cleanDups",value:function(e){var t=new Map;return e.forEach((function(e){return t.set(e.sourceFile||e.route,e)})),_toConsumableArray(t.values())}},{key:"reload",value:function(){this.refresh.next()}}]),e}()).\u0275fac=function(e){return new(e||N)},N.\u0275prov=Object(i.Cb)({factory:function(){return new N},token:N,providedIn:"root"}),N),L=((A=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.elmRef=t,this.srs=n,this.router=r,this.elm=this.elmRef.nativeElement,this.routes=this.srs.allRoutes$.pipe(Object(I.a)(1)).toPromise(),this.routeUpdates$=this.router.events.pipe(Object(C.a)((function(e){return e instanceof o.a})),Object(O.a)((function(e){return i.replaceContent()}))),this.routeSub=this.routeUpdates$.subscribe()}return _createClass(e,[{key:"ngOnInit",value:function(){this.elm&&this.handlePage()}},{key:"handlePage",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i,o,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=location.href,this.lastHandled!==t){e.next=3;break}return e.abrupt("return");case 3:if(this.lastHandled=t,n=document.createElement("template"),r=this.getCSSId(this.elm),!window.scullyContent){e.next=10;break}i=window.scullyContent.html,n.innerHTML=r!==window.scullyContent.cssId?i.split(window.scullyContent.cssId).join(r):i,e.next=12;break;case 10:return e.next=12,E(t+"/index.html","text").then((function(e){try{var t=e.split("\x3c!--scullyContent-begin--\x3e")[1].split("\x3c!--scullyContent-end--\x3e")[0];if(t.includes("_ngcontent")){var i="_ngcontent"+t.split("_ngcontent")[1].split("=")[0];n.innerHTML=t.split(i).join(r)}}catch(o){n.innerHTML='<h2 id="___scully-parsing-error___">Sorry, could not parse static page content</h2>\n            <p>This might happen if you are not using the static generated pages.</p>'}})).catch((function(e){n.innerHTML='<h2 id="___scully-parsing-error___">Sorry, could not load static page content</h2>',console.error("problem during loading static scully content",e)}));case 12:o=this.elm.parentElement||document.body,s=document.createComment("scullyContent-begin"),a=document.createComment("scullyContent-end"),o.insertBefore(s,this.elm),o.insertBefore(n.content,this.elm),o.insertBefore(a,this.elm),document.querySelectorAll("[href]").forEach(this.upgradeToRoutelink.bind(this));case 14:case"end":return e.stop()}}),e,this)})))}},{key:"upgradeToRoutelink",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,o,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.routes;case 2:n=t.sent,i=e.getAttribute("href").toLowerCase(),o=n.find((function(e){return e.route.toLowerCase()===i})),i&&o&&(e.onclick=function(e){return Object(r.a)(s,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.route.split("/"),(r=location.pathname.split("/")).pop(),e.preventDefault(),t.next=5,this.router.navigate(n).catch((function(e){return console.error("routing error",e),!1}));case 5:if(t.t1=t.sent,!t.t1){t.next=8;break}t.t1=r.every((function(e,t){return n[t]===e}));case 8:if(t.t0=t.t1,!t.t0){t.next=11;break}t.t0=n.length>r.length;case 11:if(t.t2=t.t0,!t.t2){t.next=14;break}setTimeout((function(){return i.replaceContent()}),10);case 14:case"end":return t.stop()}}),t,this)})))});case 6:case"end":return t.stop()}}),t,this)})))}},{key:"replaceContent",value:function(){window.scullyContent=void 0;for(var e=this.elm.parentElement,t=function(e,t){for(var n,r=[],i=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode:function(e){return e.nodeValue&&!e.nodeValue.includes("scullyContent-begin")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});n=i.nextNode();)r.push(n);return r}(e)[0];t&&t!==this.elm;){var n=t.nextSibling;e.removeChild(t),t=n}this.handlePage()}},{key:"getCSSId",value:function(e){return e.getAttributeNames().find((function(e){return e.startsWith("_ngcontent")}))||"none_found"}},{key:"ngOnDestroy",value:function(){this.routeSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||A)(i.Gb(i.l),i.Gb(R),i.Gb(o.c))},A.\u0275cmp=i.Ab({type:A,selectors:[["scully-content"]],ngContentSelectors:M,decls:1,vars:0,template:function(e,t){1&e&&(i.Yb(),i.Xb(0))},styles:["\n      :host {\n        display: none;\n      }\n      scully-content {\n        display: none;\n      }\n    "],encapsulation:2,changeDetection:0}),A),z=((j=function e(){_classCallCheck(this,e)}).\u0275mod=i.Eb({type:j}),j.\u0275inj=i.Db({factory:function(e){return new(e||j)}}),j)},syNF:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lJxs"),i=n("fXoL"),o=n("sbAP"),s=/(\d\d?-\d\d?-\d\d\d\d)/,a=function(){var e=function e(t){_classCallCheck(this,e),this._srs=t,this.episodes$=this._srs.available$.pipe(Object(r.a)((function(e){return(e=e.filter((function(e){return s.test(e.route)})).sort((function(e,t){var n=s.exec(e.route)[0],r=s.exec(t.route)[0];return new Date(r).getTime()-new Date(n).getTime()}))).filter((function(e){return e.route.startsWith("/episode/")})).map((function(t,n){return Object.assign(Object.assign({},t),{number:e.length-n})}))})))};return e.\u0275fac=function(t){return new(t||e)(i.Mb(o.c))},e.\u0275prov=i.Cb({token:e,factory:e.\u0275fac}),e}()}}]);